!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r={};function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(null!=t)if("string"==typeof t||"number"==typeof t)e.push(t.toString());else if(Array.isArray(t))for(var n=0;n<t.length;n++)l(t[n],e);else e.push(t)}function s(t,e){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return l(i,n),"function"==typeof t?t(o(o({},e),{},{children:n})):{tag:t,props:e,children:n}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,"DAY",(function(){return h})),n.d(r,"addDays",(function(){return p})),n.d(r,"addHours",(function(){return y})),n.d(r,"getDates",(function(){return d})),n.d(r,"getHours",(function(){return g})),n.d(r,"textWidth",(function(){return m})),n.d(r,"formatMonth",(function(){return b})),n.d(r,"formatDay",(function(){return x})),n.d(r,"minDate",(function(){return w})),n.d(r,"maxDate",(function(){return O})),n.d(r,"max",(function(){return k})),n.d(r,"p2s",(function(){return j})),n.d(r,"s2p",(function(){return D})),n.d(r,"formatData",(function(){return T})),n.d(r,"hasPath",(function(){return P})),n.d(r,"toposort",(function(){return S})),n.d(r,"autoSchedule",(function(){return E}));var h=864e5;function p(t,e){var n=new Date(t.valueOf());return n.setDate(n.getDate()+e),n}function y(t,e){var n=new Date(t.valueOf());return n.getHours+e==24?(n.setDate(n.getDate()+1),n.setHours(0)):n.setHours(n.getHours()+e),n}function d(t,e){var n=[],r=new Date(t);for(r.setHours(24,0,0,0);r.getTime()<=e;)n.push(r.getTime()),r=p(r,1);return n}function g(t,e){var n=[],r=new Date(t);for(r.setMinutes(0);r.getTime()<=e;)n.push(r.getTime()),r=y(r,1);return n}var v=null;function m(t,e,n){return(v=v||document.createElement("canvas").getContext("2d")).font=e,v.measureText(t).width+n}function b(t){var e=t.getFullYear(),n=t.getMonth()+1;return"".concat(e,"/").concat(n>9?n:"0".concat(n))}function x(t){var e=t.getMonth()+1,n=t.getDate();return"".concat(e,"/").concat(n)}function w(t,e){return t&&e?t>e?e:t:t||e}function O(t,e){return t&&e?t<e?e:t:t||e}function k(t,e){return t.length?Math.max.apply(null,t):e}function j(t){return t.map((function(t){return"".concat(t[0],",").concat(t[1])})).join(" ")}function D(t){return t.split(" ").map((function(t){var e=t.split(",");return[parseFloat(e[0]),parseFloat(e[1])]}))}function T(t,e,n){var r={},i=t.map((function(t,e){return r[t.id]=e,c(c({},t),{},{children:[],links:[]})})),o=[];i.forEach((function(t){var e=i[r[t.parent]];e?e.children.push(t):o.push(t)})),e.forEach((function(t){var e=i[r[t.source]],n=i[r[t.target]];e&&n&&e.links.push(t)})),function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i.level="".concat(n).concat(r+1),i.text="".concat(i.level," ").concat(i.name),t(i.children,"".concat(i.level,"."))}}(o,""),function t(e){for(var n=null,r=null,i=0,o=0;o<e.length;o++){var a=e[o];if(a.children.length){var l=t(a.children);a.start=l.start,a.end=l.end,a.percent=l.percent,l.start&&l.end?a.duration=(l.end-l.start)/h:a.duration=0}else a.percent=a.percent||0,a.start&&(a.end=p(a.start,a.duration||0)),"milestone"===a.type&&(a.end=a.start);n=w(n,a.start),r=O(r,a.end),i+=a.percent}return e.length&&(i/=e.length),{start:n,end:r,percent:i}}(o),n&&n(o);var a=[];return o.forEach((function(t){var e=[];for(e.push(t);e.length;){var n=e.pop(),r=n.children.length;r&&(n.type="group"),a.push(n);for(var i=r-1;i>=0;i--)e.push(n.children[i])}})),a}function P(t,e,n){var r=[];for(r.push(t[e]);r.length;){var i=r.pop();if(i.id===n)return!0;for(var o=0;o<i.links.length;o++)r.push(i.links[o])}return!1}function S(t){var e={};t.forEach((function(t){var n=function(t){return{id:t,out:[],in:0}};e[t.source]=n(t.source),e[t.target]=n(t.target)}));for(var n=0;n<t.length;n++){var r=t[n];e[r.target].in++,e[r.source].out.push(n)}for(var i=Object.keys(e).map((function(t){return e[t].id})).filter((function(t){return!e[t].in})),o=[];i.length;){var a=i.pop();o.push(a);for(var l=0;l<e[a].out.length;l++){var s=e[a].out[l],u=e[t[s].target];u.in--,u.in||i.push(u.id)}}return o}function E(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};e.forEach((function(t){r[t.source]={id:t.source,links:[]},r[t.target]={id:t.target,links:[]}}));var i=[];e.forEach((function(t){var e=t.source,n=t.target;P(r,n,e)||(i.push(t),r[e].links.push(r[n]))}));for(var o=S(i),a={},l=0;l<t.length;l++){var s=t[l];"milestone"===s.type&&(s.duration=0),a[s.id]=l}var u={};o.forEach((function(t){u[t]=[]})),i.forEach((function(t){u[t.target].push(t)})),o.forEach((function(e){var r=t[a[e]];if(r){var i=r.duration||0;if(!n||"milestone"!==r.type){for(var o=null,l=null,s=0;s<u[e].length;s++){var c=u[e][s],f=t[a[c.source]];if(f&&f.start){var h=p(f.start,c.lag||0),y=p(h,f.duration||0);"SS"===c.type&&(o=O(o,h)),"FS"===c.type&&(o=O(o,y)),"SF"===c.type&&(l=O(l,h)),"FF"===c.type&&(l=O(l,y))}}l&&(r.start=p(l,-i)),o&&(r.start=o)}}}))}function C(t){var e=t.styles,n=t.width,r=t.height,i=t.offsetY,o=t.thickWidth,a=t.maxTextWidth,l=o/2;return s("g",null,s("rect",{x:l,y:l,width:n-o,height:r-o,style:e.box}),s("line",{x1:0,x2:n,y1:i-l,y2:i-l,style:e.bline}),s("line",{x1:a,x2:n,y1:i/2,y2:i/2,style:e.line}))}function W(t){var e=t.styles,n=t.dates,r=t.unit,i=t.offsetY,o=t.minTime,a=t.maxTime,l=t.maxTextWidth,u=n.filter((function(t){return 1===new Date(t).getDate()}));u.unshift(o),u.push(a);for(var c=[],f=l,h=i/2,p=u.length-1,y=0;y<p;y++){var d=b(new Date(u[y])),g=f+(u[y]-o)/r,v=(u[y+1]-u[y])/r;c.push(s("g",null,s("line",{x1:g,x2:g,y1:0,y2:h,style:e.line}),v>50?s("text",{x:g+v/2,y:.25*i,style:e.text3},d):null))}return s("g",null,c)}function F(t){for(var e=t.styles,n=t.unit,r=t.minTime,i=t.maxTime,o=t.height,a=t.offsetY,l=t.maxTextWidth,u=d(r,i),c=[],f=l,h=a/2,p=o-h,y=u.length-1,g=0;g<y;g++){var v=new Date(u[g]),m=v.getDay(),b=f+(u[g]-r)/n,x=(u[g+1]-u[g])/n;c.push(s("g",null,0===m||6===m?s("rect",{x:b,y:h,width:x,height:p,style:e.week}):null,s("line",{x1:b,x2:b,y1:h,y2:a,style:e.line}),s("text",{x:b+x/2,y:.75*a,style:e.text3},v.getDate()),g===y-1?s("line",{x1:b+x,x2:b+x,y1:h,y2:a,style:e.line}):null))}return s("g",null,s(W,{styles:e,unit:n,dates:u,offsetY:a,minTime:r,maxTime:i,maxTextWidth:l}),c)}function Y(t){var e=t.styles,n=t.unit,r=t.minTime,i=t.maxTime,o=t.height,a=t.offsetY,l=t.maxTextWidth,u=d(r,i),c=u.filter((function(t){return 0===new Date(t).getDay()}));c.push(i);for(var f=[],y=l,g=a,v=o-g,m=h/n,b=c.length-1,x=0;x<b;x++){var w=new Date(c[x]),O=y+(c[x]-r)/n,k=w.getDate(),j=p(w,-1).getDate();f.push(s("g",null,s("rect",{x:O-m,y:g,width:2*m,height:v,style:e.week}),s("line",{x1:O,x2:O,y1:a/2,y2:a,style:e.line}),s("text",{x:O+3,y:.75*a,style:e.text2},k),O-y>28?s("text",{x:O-3,y:.75*a,style:e.text1},j):null))}return s("g",null,s(W,{styles:e,unit:n,dates:u,offsetY:a,minTime:r,maxTime:i,maxTextWidth:l}),f)}function A(t){var e=t.styles,n=t.months,r=t.unit,i=t.offsetY,o=t.minTime,a=t.maxTime,l=t.maxTextWidth,u=n.filter((function(t){return 0===new Date(t).getMonth()}));u.unshift(o),u.push(a);for(var c=[],f=l,h=i/2,p=u.length-1,y=0;y<p;y++){var d=new Date(u[y]),g=f+(u[y]-o)/r,v=(u[y+1]-u[y])/r;c.push(s("g",null,s("line",{x1:g,x2:g,y1:0,y2:h,style:e.line}),v>35?s("text",{x:g+v/2,y:.25*i,style:e.text3},d.getFullYear()):null))}return s("g",null,c)}function H(t){var e=t.styles,n=t.unit,r=t.minTime,i=t.maxTime,o=t.offsetY,a=t.maxTextWidth,l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=d(r,i).filter((function(t){return 1===new Date(t).getDate()}));u.unshift(r),u.push(i);for(var c=[],f=a,h=o/2,p=u.length-1,y=0;y<p;y++){var g=new Date(u[y]).getMonth(),v=f+(u[y]-r)/n,m=(u[y+1]-u[y])/n;c.push(s("g",null,s("line",{x1:v,x2:v,y1:h,y2:o,style:e.line}),m>30?s("text",{x:v+m/2,y:.75*o,style:e.text3},l[g]):null))}return s("g",null,s(A,{styles:e,unit:n,months:u,offsetY:o,minTime:r,maxTime:i,maxTextWidth:a}),c)}function M(t){var e=t.styles,n=t.dates,r=t.unit,i=t.offsetY,o=t.minTime,a=t.maxTime,l=t.maxTextWidth,u=n.filter((function(t){return 0===new Date(t).getHours()}));console.log(u),u.unshift(o),u.push(a);for(var c=[],f=l,h=i/2,p=u.length-1,y=0;y<p;y++){var d=x(new Date(u[y])),g=f+(u[y]-o)/r,v=(u[y+1]-u[y])/r;c.push(s("g",null,s("line",{x1:g,x2:g,y1:0,y2:h,style:e.line}),v>50?s("text",{x:g+v/2,y:.25*i,style:e.text3},d):null))}return s("g",null,c)}function B(t){for(var e=t.styles,n=t.unit,r=t.minTime,i=t.maxTime,o=t.height,a=t.offsetY,l=t.maxTextWidth,u=g(r,i),c=[],f=l,h=a/2,p=o-h,y=u.length-1,d=0;d<y;d++){var v=new Date(u[d]),m=v.getDay(),b=f+(u[d]-r)/n,x=(u[d+1]-u[d])/n;c.push(s("g",null,0===m||6===m?s("rect",{x:b,y:h,width:x,height:p,style:e.week}):null,s("line",{x1:b,x2:b,y1:h,y2:a,style:e.line}),s("text",{x:b+x/2,y:.75*a,style:e.text3},v.getHours()),d===y-1?s("line",{x1:b+x,x2:b+x,y1:h,y2:a,style:e.line}):null))}return s("g",null,s(M,{styles:e,unit:n,dates:u,offsetY:a,minTime:r,maxTime:i,maxTextWidth:l}),c)}function q(t){var e=t.styles,n=t.data,r=t.width,i=t.height,o=t.offsetY,a=t.rowHeight,l=t.maxTextWidth;return s("g",null,n.map((function(t,n){var i=(n+1)*a+o;return s("line",{key:n,x1:0,x2:r,y1:i,y2:i,style:e.line})})),s("line",{x1:l,x2:l,y1:0,y2:i,style:e.bline}))}function L(t){var e=t.styles,n=t.data,r=t.onClick,i=t.rowHeight,o=t.offsetY;return s("g",null,n.map((function(t,n){return s("text",{key:n,x:10,y:(n+.5)*i+o,class:"gantt-label",style:e.label,onClick:function(){return r(t)}},t.text)})))}function R(t){var e=t.styles,n=t.data,r=t.unit,i=t.offsetY,o=t.minTime,a=t.rowHeight,l=t.barHeight,u=t.maxTextWidth,c=a/2+i,f={};return n.forEach((function(t,e){f[t.id]=e})),s("g",null,n.map((function(t,i){return t.end&&t.start&&t.links?t.links.map((function(h){var p=f[h.target],y=n[p];if(!y||!y.start||!y.end)return null;var d="milestone"===y.type?l/2:0,g=c+i*a,v=c+p*a,m=l/2+4;if(g>v&&(m=-m),"FS"===h.type){var b=u+(t.end-o)/r,x=u+(y.start-o)/r-d,w=[[b,g],[b+12,g]];x-b>=24?w.push([b+12,v]):(w.push([b+12,v-m]),w.push([x-12,v-m]),w.push([x-12,v])),w.push([x-6,v]);var O=[[x-6,v-6],[x,v],[x-6,v+6]];return s("g",null,s("polyline",{points:j(w),style:e.link}),s("polygon",{points:j(O),style:e.linkArrow}))}if("FF"===h.type){var k=u+(t.end-o)/r,D=u+(y.end-o)/r+d,T=[[k,g],[k+12,g]];D<=k?T.push([k+12,v]):(T.push([k+12,v-m]),T.push([D+12,v-m]),T.push([D+12,v])),T.push([D+6,v]);var P=[[D+6,v-6],[D,v],[D+6,v+6]];return s("g",null,s("polyline",{points:j(T),style:e.link}),s("polygon",{points:j(P),style:e.linkArrow}))}if("SS"===h.type){var S=u+(t.start-o)/r,E=u+(y.start-o)/r-d,C=[[S,g],[S-12,g]];S<=E?C.push([S-12,v]):(C.push([S-12,v-m]),C.push([E-12,v-m]),C.push([E-12,v])),C.push([E-6,v]);var W=[[E-6,v-6],[E,v],[E-6,v+6]];return s("g",null,s("polyline",{points:j(C),style:e.link}),s("polygon",{points:j(W),style:e.linkArrow}))}if("SF"===h.type){var F=u+(t.start-o)/r,Y=u+(y.end-o)/r+d,A=[[F,g],[F-12,g]];F-Y>=24?A.push([F-12,v]):(A.push([F-12,v-m]),A.push([Y+12,v-m]),A.push([Y+12,v])),A.push([Y+6,v]);var H=[[Y+6,v-6],[Y,v],[Y+6,v+6]];return s("g",null,s("polyline",{points:j(A),style:e.link}),s("polygon",{points:j(H),style:e.linkArrow}))}return null})):null})))}function z(t){var e=t.styles,n=t.data,r=t.unit,i=t.height,o=t.offsetY,a=t.minTime,l=t.showDelay,u=t.rowHeight,c=t.barHeight,f=t.maxTextWidth,h=t.current,p=t.onClick,y=f,d=(u-c)/2+o,g=y+(h-a)/r;return s("g",null,h>a?s("line",{x1:g,x2:g,y1:o,y2:i,style:e.cline}):null,n.map((function(t,n){if(!t.end||!t.start)return null;var i=function(){return p(t)},o=y+(t.start-a)/r,f=d+n*u,h=f+c/2;if("milestone"===t.type){var v=c/2;return s("g",{key:n,class:"gantt-bar",style:{cursor:"pointer"},onClick:i},s("polygon",{points:[[o,h-v],[o+v,h],[o,h+v],[o-v,h]].map((function(t){return"".concat(t[0],",").concat(t[1])})).join(" "),style:e.milestone,onClick:i}),s("circle",{class:"gantt-ctrl-start","data-id":t.id,cx:o,cy:h,r:6,style:e.ctrl}))}var m=(t.end-t.start)/r,b=m*t.percent,w="group"===t.type?{back:e.groupBack,front:e.groupFront}:{back:e.taskBack,front:e.taskFront};return l&&(o+b<g&&t.percent<.999999&&(w.front=e.warning),o+m<g&&t.percent<.999999&&(w.front=e.danger)),s("g",{key:n,class:"gantt-bar",style:{cursor:"pointer"},onClick:i},s("text",{x:o-4,y:h,style:e.text1},x(t.start)),s("text",{x:o+m+4,y:h,style:e.text2},x(t.end)),s("rect",{x:o,y:f,width:m,height:c,rx:1.8,ry:1.8,style:w.back,onClick:i}),b>1e-6?s("rect",{x:o,y:f,width:b,height:c,rx:1.8,ry:1.8,style:w.front}):null,"group"===t.type?null:s("g",null,s("circle",{class:"gantt-ctrl-start","data-id":t.id,cx:o-12,cy:h,r:6,style:e.ctrl}),s("circle",{class:"gantt-ctrl-finish","data-id":t.id,cx:o+m+12,cy:h,r:6,style:e.ctrl})))})))}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif';function J(t){var e=t.fontSize,n=void 0===e?"14px":e,r=t.fontFamily,i=void 0===r?N:r;return"bold ".concat(n," ").concat(i)}var X={hour:h/28/24,day:h/28,week:7*h/56,month:30*h/56};function U(){}function V(t){var e,n,r,i,o,a,l,u,c,f,h,p,y,d,g,v,m,b,x,w,O,k,j,D,T,P,S,E,W,A,M,I,_,J,V,G,K,Q,Z,tt,et,nt,rt,it=t.data,ot=void 0===it?[]:it,at=t.onClick,lt=void 0===at?U:at,st=t.viewMode,ut=void 0===st?"week":st,ct=t.maxTextWidth,ft=void 0===ct?140:ct,ht=t.offsetY,pt=void 0===ht?60:ht,yt=t.rowHeight,dt=void 0===yt?40:yt,gt=t.barHeight,vt=void 0===gt?16:gt,mt=t.thickWidth,bt=void 0===mt?1.4:mt,xt=t.styleOptions,wt=void 0===xt?{}:xt,Ot=t.showLinks,kt=void 0===Ot||Ot,jt=t.showDelay,Dt=void 0===jt||jt,Tt=t.start,Pt=t.end,St=X[ut],Et=Tt.getTime()-48*St,Ct=Pt.getTime()+48*St,Wt=(Ct-Et)/St+ft,Ft=ot.length*dt+pt,Yt="0 0 ".concat(Wt," ").concat(Ft),At=Date.now(),Ht=(n=(e=wt).bgColor,r=void 0===n?"#fff":n,i=e.lineColor,o=void 0===i?"#eee":i,a=e.redLineColor,l=void 0===a?"#f04134":a,u=e.groupBack,c=void 0===u?"#3db9d3":u,f=e.groupFront,h=void 0===f?"#299cb4":f,p=e.taskBack,y=void 0===p?"#65c16f":p,d=e.taskFront,g=void 0===d?"#46ad51":d,v=e.milestone,m=void 0===v?"#d33daf":v,b=e.warning,x=void 0===b?"#faad14":b,w=e.danger,O=void 0===w?"#f5222d":w,k=e.link,j=void 0===k?"#ffa011":k,D=e.textColor,T=void 0===D?"#222":D,P=e.lightTextColor,S=void 0===P?"#999":P,E=e.lineWidth,W=void 0===E?"1px":E,A=e.thickLineWidth,M=void 0===A?"1.4px":A,I=e.fontSize,_=void 0===I?"14px":I,J=e.smallFontSize,V=void 0===J?"12px":J,G=e.fontFamily,K=void 0===G?N:G,Q=e.whiteSpace,Z={stroke:o,"stroke-width":W},tt={stroke:l,"stroke-width":W},nt={fill:T,"dominant-baseline":"central","font-size":_,"font-family":K,"white-space":void 0===Q?"pre":Q},rt={fill:S,"font-size":V},{week:{fill:"rgba(252, 248, 227, .6)"},box:$($({},et={stroke:o,"stroke-width":M}),{},{fill:r}),line:Z,cline:tt,bline:et,label:nt,groupLabel:$($({},nt),{},{"font-weight":"600"}),text1:$($($({},nt),rt),{},{"text-anchor":"end"}),text2:$($({},nt),rt),text3:$($($({},nt),rt),{},{"text-anchor":"middle"}),link:{stroke:j,"stroke-width":"1.5px",fill:"none"},linkArrow:{fill:j},milestone:{fill:m},groupBack:{fill:c},groupFront:{fill:h},taskBack:{fill:y},taskFront:{fill:g},warning:{fill:x},danger:{fill:O},ctrl:{display:"none",fill:"#f0f0f0",stroke:"#929292","stroke-width":"1px"}});return s("svg",{width:Wt,height:Ft,viewBox:Yt},s(C,{styles:Ht,width:Wt,height:Ft,offsetY:pt,thickWidth:bt,maxTextWidth:ft}),"hour"===ut?s(B,{styles:Ht,unit:St,height:Ft,offsetY:pt,minTime:Et,maxTime:Ct,maxTextWidth:ft}):null,"day"===ut?s(F,{styles:Ht,unit:St,height:Ft,offsetY:pt,minTime:Et,maxTime:Ct,maxTextWidth:ft}):null,"week"===ut?s(Y,{styles:Ht,unit:St,height:Ft,offsetY:pt,minTime:Et,maxTime:Ct,maxTextWidth:ft}):null,"month"===ut?s(H,{styles:Ht,unit:St,offsetY:pt,minTime:Et,maxTime:Ct,maxTextWidth:ft}):null,s(q,{styles:Ht,data:ot,width:Wt,height:Ft,offsetY:pt,rowHeight:dt,maxTextWidth:ft}),ft>0?s(L,{styles:Ht,data:ot,onClick:lt,offsetY:pt,rowHeight:dt}):null,kt?s(R,{styles:Ht,data:ot,unit:St,height:Ft,current:At,offsetY:pt,minTime:Et,rowHeight:dt,barHeight:vt,maxTextWidth:ft}):null,s(z,{styles:Ht,data:ot,unit:St,height:Ft,current:At,offsetY:pt,minTime:Et,onClick:lt,showDelay:Dt,rowHeight:dt,barHeight:vt,maxTextWidth:ft}))}function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var K=document;function Q(t,e){var n=t.tag,r=t.props,i=t.children,o=K.createElementNS("http://www.w3.org/2000/svg",n);return r&&function(t,e){Object.keys(e).forEach((function(n){var r=e[n];"style"===n&&"object"===G(r)?Object.keys(r).forEach((function(e){t.style[e]=r[e]})):"onClick"===n?"function"==typeof r&&t.addEventListener("click",r):t.setAttribute(n,r)}))}(o,r),i.forEach((function(t){o.appendChild("string"==typeof t?K.createTextNode(t):Q(t,e))})),o}function Z(){return(Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach((function(e){nt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ot=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rt(this,t),this.dom="string"==typeof e?document.querySelector(e):e,this.format(n),this.options=r,this.render()}var e,n,r;return e=t,(n=[{key:"format",value:function(t){this.data=t;var e=null,n=null;t.forEach((function(t){e=w(e,t.start),n=O(n,t.end)})),this.start=e||new Date,this.end=n||new Date}},{key:"setData",value:function(t){this.format(t),this.render()}},{key:"setOptions",value:function(t){this.options=et(et({},this.options),t),this.render()}},{key:"render",value:function(){var t=this.data,e=this.start,n=this.end,r=this.options;if(this.tree&&this.dom.removeChild(this.tree),void 0===r.maxTextWidth){var i=J(r.styleOptions||{});r.maxTextWidth=k(t.map((function(t){return m(t.text,i,20)})),0)}var o=et(et({},r),{},{start:e,end:n});this.tree=Q(s(V,Z({data:t},o))),this.dom.appendChild(this.tree)}}])&&it(e.prototype,n),r&&it(e,r),t}();function at(t){var e="string"==typeof t?document.querySelector(t):t,n=e.getContext("2d"),r=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,i=(window.devicePixelRatio||1)/r;return["width","height"].forEach((function(t){Object.defineProperty(n,t,{get:function(){return e[t]/i},set:function(r){e[t]=r*i,e.style[t]="".concat(r,"px"),n.scale(i,i)},enumerable:!0,configurable:!0})})),e.addEventListener("click",(function(t){if(n.onClick){var r=e.getBoundingClientRect();n.onClick({x:(t.clientX-r.left)*i,y:(t.clientY-r.top)*i})}})),n}function lt(){return(lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ft(this,t),this.ctx=at(e),this.format(n),this.options=i,this.render(),this.ctx.onClick=function(t){return r.render(t)}}var e,n,r;return e=t,(n=[{key:"format",value:function(t){this.data=t;var e=null,n=null;t.forEach((function(t){e=w(e,t.start),n=O(n,t.end)})),this.start=e||new Date,this.end=n||new Date}},{key:"setData",value:function(t){this.format(t),this.render()}},{key:"setOptions",value:function(t){this.options=ut(ut({},this.options),t),this.render()}},{key:"render",value:function(t){var e=this.data,n=this.start,r=this.end,i=this.options;if(void 0===i.maxTextWidth){var o=J(i.styleOptions||{});i.maxTextWidth=k(e.map((function(t){return m(t.text,o,20)})),0)}!function t(e,n,r){var i=e.tag,o=e.props,a=e.children;if("svg"===i){var l=o.width,s=o.height;n.width=l,n.height=s}if("line"===i){var u=o.x1,c=o.x2,f=o.y1,h=o.y2,p=o.style,y=void 0===p?{}:p;y.stroke&&(n.strokeStyle=y.stroke,n.lineWidth=parseFloat(y["stroke-width"]||1)),n.beginPath(),n.moveTo(u,f),n.lineTo(c,h),n.stroke()}if("polyline"===i||"polygon"===i){var d=o.points,g=o.style,v=void 0===g?{}:g,m=D(d);v.stroke&&(n.strokeStyle=v.stroke,n.lineWidth=parseFloat(v["stroke-width"]||1)),v.fill&&(n.fillStyle=v.fill),n.beginPath(),n.moveTo(m[0][0],m[0][1]);for(var b=1;b<m.length;b++)n.lineTo(m[b][0],m[b][1]);"polyline"===i?n.stroke():n.fill()}if("rect"===i){var x=o.x,w=o.y,O=o.width,k=o.height,j=o.rx,T=void 0===j?0:j,P=o.ry,S=void 0===P?0:P,E=o.onClick,C=o.style,W=void 0===C?{}:C;n.beginPath(),n.moveTo(x+T,w),n.lineTo(x+O-T,w),n.quadraticCurveTo(x+O,w,x+O,w+S),n.lineTo(x+O,w+k-S),n.quadraticCurveTo(x+O,w+k,x+O-T,w+k),n.lineTo(x+T,w+k),n.quadraticCurveTo(x,w+k,x,w+k-S),n.lineTo(x,w+S),n.quadraticCurveTo(x,w,x+T,w),r&&E&&n.isPointInPath(r.x,r.y)&&E(),n.closePath(),W.fill&&(n.fillStyle=W.fill),n.fill(),W.stroke&&(n.strokeStyle=W.stroke,n.lineWidth=parseFloat(W["stroke-width"]||1),n.stroke())}if("text"===i){var F=o.x,Y=o.y,A=o.style;A&&(n.fillStyle=A.fill,n.textBaseline={central:"middle",middle:"middle",hanging:"hanging",alphabetic:"alphabetic",ideographic:"ideographic"}[A["dominant-baseline"]]||"alphabetic",n.textAlign={start:"start",middle:"center",end:"end"}[A["text-anchor"]]||"start",n.font="".concat(A["font-weight"]||""," ").concat(A["font-size"]," ").concat(A["font-family"])),n.fillText(a.join(""),F,Y)}a.forEach((function(e){"string"!=typeof e&&t(e,n,r)}))}(s(V,lt({data:e},ut(ut({},i),{},{start:n,end:r}))),this.ctx,t)}}])&&ht(e.prototype,n),r&&ht(e,r),t}();function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){var n=t.tag,r=t.props,i=t.children,o=[];return o.push("<".concat(n)),Object.keys(r||{}).forEach((function(t){var e=r[t];"onClick"!==t&&("style"===t&&"object"===yt(e)&&(e=Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t],";")})).join("")),o.push(" ".concat(t,'="').concat(String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')))})),i&&i.length?(o.push(">"),i.forEach((function(t){"string"==typeof t?o.push(String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")):o.push(dt(t,e))})),o.push("</".concat(n,">")),o.join("")):(o.push(" />"),o.join(""))}function gt(){return(gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ot=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xt(this,t),this.format(e),this.options=n}var e,n,r;return e=t,(n=[{key:"format",value:function(t){this.data=t;var e=null,n=null;t.forEach((function(t){e=w(e,t.start),n=O(n,t.end)})),this.start=e||new Date,this.end=n||new Date}},{key:"setData",value:function(t){this.format(t)}},{key:"setOptions",value:function(t){this.options=mt(mt({},this.options),t)}},{key:"render",value:function(){var t=this.data,e=this.start,n=this.end;return dt(s(V,gt({data:t},mt(mt({},this.options),{},{start:e,end:n}))))}}])&&wt(e.prototype,n),r&&wt(e,r),t}();var kt=function(t){return document.querySelector(t)},jt=function(){var t=[{id:1,name:"Waterfall model"},{id:11,parent:1,name:"Requirements"},{id:12,parent:1,name:"Design"},{id:13,parent:1,name:"Implement",type:"milestone"},{id:14,parent:1,name:"Verification"},{id:2,name:"Development"},{id:21,parent:2,name:"Preliminary"},{id:22,parent:2,name:"Systems design"},{id:23,parent:2,name:"Development"},{id:24,parent:2,name:"Integration"}];return t.forEach((function(t){var e,n,r;t.start=(e?(r=60*Math.random()+5,n=new Date(e)):(r=60*Math.random()-60,n=new Date),n.setDate(n.getDate()+r),n),t.duration=90*Math.random(),t.percent=Math.random()})),{tasks:t,links:[{source:11,target:12,type:"FS",lag:3},{source:12,target:13,type:"FS",lag:5},{source:13,target:14,type:"FS"},{source:13,target:21,type:"FS"},{source:23,target:24,type:"SF"}]}}(),Dt=jt.tasks,Tt=jt.links,Pt=r.formatData(Dt,Tt),St={viewMode:"week",onClick:function(t){return console.log(t)}},Et=new ot("#svg",Pt,St),Ct=new pt("#canvas",Pt,St),Wt=new Ot(Pt,St);function Ft(){kt("#str").textContent=function(t){for(var e="",n=(t=t.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),r=0,i="other",o={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},a=0;a<n.length;a++){var l=n[a];if(l.match(/\s*<\?xml/))e+=l+"\n";else{var s=Boolean(l.match(/<.+\/>/)),u=Boolean(l.match(/<\/.+>/)),c=Boolean(l.match(/<[^!].*>/)),f=s?"single":u?"closing":c?"opening":"other",h=i+"->"+f;i=f;var p="";r+=o[h];for(var y=0;y<r;y++)p+="  ";"opening->closing"==h?e=e.substr(0,e.length-1)+l+"\n":e+=p+l+"\n"}}return e}(Wt.render())}function Yt(t){Et.setOptions(t),Ct.setOptions(t),Wt.setOptions(t),Ft()}function At(){var t=r.formatData(Dt,Tt);Et.setData(t),Ct.setData(t),Wt.setData(t),Ft()}Ft(),kt("#viewMode").onchange=function(t){Yt({viewMode:t.target.value})},kt("#showLinks").onchange=function(){Yt({showLinks:kt("#showLinks").checked})},kt("#showDelay").onchange=function(){Yt({showDelay:kt("#showDelay").checked})},kt("#autoSchedule").onclick=function(){r.autoSchedule(Dt,Tt),At()};var Ht=null,Mt=!1,Bt=null,qt=null;function Lt(t){return t.classList.contains("gantt-ctrl-start")}function Rt(t){return t.classList.contains("gantt-ctrl-finish")}document.onmousedown=function(t){if(Ht=kt("svg"),Lt(t.target)||Rt(t.target)){t.preventDefault(),Bt=t.target,document.querySelectorAll(".gantt-ctrl-start,.gantt-ctrl-finish").forEach((function(t){t.style.display="block"})),Mt=!0,qt=document.createElementNS("http://www.w3.org/2000/svg","line");var e=Bt.getAttribute("cx"),n=Bt.getAttribute("cy");qt.setAttribute("x1",e),qt.setAttribute("y1",n),qt.setAttribute("x2",e),qt.setAttribute("y2",n),qt.style.stroke="#ffa011",qt.style["stroke-width"]="2",qt.style["stroke-dasharray"]="5",Ht.appendChild(qt)}},document.onmousemove=function(t){if(Mt)if(t.preventDefault(),Lt(t.target)||Rt(t.target)){var e=t.target.getAttribute("cx"),n=t.target.getAttribute("cy");qt.setAttribute("x2",e),qt.setAttribute("y2",n)}else{var r=t.clientX,i=t.clientY,o=Ht.getBoundingClientRect();qt.setAttribute("x2",r-o.left),qt.setAttribute("y2",i-o.top)}},document.onmouseup=function(t){if(Mt){t.preventDefault();var e=Lt(t.target)||Rt(t.target);Bt&&e&&function(t,e){var n=parseInt(t.dataset.id),r=parseInt(e.dataset.id),i=Dt.find((function(t){return t.id===n})),o=Dt.find((function(t){return t.id===r})),a=Lt(t)?"S":"F",l=Lt(e)?"S":"F";"milestone"===i.type&&(a="F"),"milestone"===o.type&&(l="S"),Tt.push({source:n,target:r,type:"".concat(a).concat(l)}),At()}(Bt,t.target),document.querySelectorAll(".gantt-ctrl-start,.gantt-ctrl-finish").forEach((function(t){t.style.display="none"})),Mt=!1,Bt&&(Bt.style.display="none",Bt=null),qt&&(Ht.removeChild(qt),qt=null)}}}]);